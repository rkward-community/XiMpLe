<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="m.eik michalke" />

<meta name="date" content="2020-09-19" />

<title>The XiMpLe Package</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>

<style type="text/css">
  p.abstract{
    text-align: center;
    font-weight: bold;
  }
  div.abstract{
    margin: auto;
    width: 90%;
  }
</style>


<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">The XiMpLe Package</h1>
<h4 class="author">m.eik michalke</h4>
<h4 class="date">2020-09-19</h4>
<div class="abstract">
<p class="abstract">Abstract</p>
This package provides basic tools for parsing and generating XML into and from R. It is not as feature-rich as alternative packages, but it’s small and keeps dependencies to a minimum.
</div>


<div id="TOC">
<ul>
<li><a href="#previously-on-ximple">Previously on <code>XiMpLe</code></a></li>
<li><a href="#and-now-the-continuation">And now the continuation</a></li>
<li><a href="#naming-conventions">Naming conventions</a></li>
<li><a href="#generate-xml-trees">Generate XML trees</a></li>
<li><a href="#writing-xml-files">Writing XML files</a></li>
<li><a href="#reading-xml-files">Reading XML files</a></li>
<li><a href="#mining-nodes">Mining nodes</a></li>
</ul>
</div>

<div id="previously-on-ximple" class="section level1">
<h1>Previously on <code>XiMpLe</code></h1>
<p>Before I even begin, I would like to stress that <code>XiMpLe</code> can <em>not</em> replace the <code>XML</code> package, and it is not supposed to. It has only a hand full of functions, therefore it can only do so much. Probably the most noteworthy missing feature in this package is any real DTD support. If you need that, you can stop reading here. Another problem is speed – <code>XiMpLe</code> is written in pure R, and it’s painfully slow with large XML trees. You won’t notice this if you’re only dealing with portions of some kilobytes, but if you need to parse really huge documents, it can take ages to finish.</p>
<p>Historically, this package was written for exactly one purpose: I wanted to be able to read and write the XML documents of <a href="https://rkward.kde.org">RKWard</a>, because I was about to write an R package for scripting plugins for this R GUI. I actually had started another project shortly before, using the <code>XML</code> package as a dependency, but soon got complaints from Windows users. As it turned out, that package was not available for Windows, because somehow it couldn’t be built automatically. When I realised that I only needed a small subset of its features anyway, I figured it might be easiest to quickly implement those features myself.</p>
<p>Instead of hiding them in the internals of what eventually became the <a href="https://files.kde.org/rkward/R/pckg/rkwarddev">rkwarddev</a> package, I then started working on this package first. And well, “quickly” was rather optimistic… but since I’m happily using <code>XiMpLe</code> in other packages as well (like <a href="https://reaktanz.de/?c=hacking&amp;s=roxyPackage">roxyPackage</a>), I’m satisfied it was worth it.</p>
<p>So now you know. If you need a full-featured package to parse or generate XML in R, try the <code>XML</code> package. Otherwise, keep on reading.</p>
</div>
<div id="and-now-the-continuation" class="section level1">
<h1>And now the continuation</h1>
<p>Basically, <code>XiMpLe</code> can do these things for you:</p>
<ul>
<li>parse XML from files into an R object, using the <code>parseXML()</code> function</li>
<li>generate XML R objects, using the functions <code>XMLNode()</code> and <code>XMLTree()</code></li>
<li>extract nodes from XML R objects, or change their content, using the <code>node()</code> function</li>
<li>write back XML files from R objects, using the <code>pasteXML()</code> function</li>
</ul>
<p>That about covers it. XML nodes can of course be nested to construct complex trees, but that’s all. Let’s look at some examples.</p>
</div>
<div id="naming-conventions" class="section level1">
<h1>Naming conventions</h1>
<p>Let’s quickly explain what we’ll be talking about here. If you’re parsing an XML document, it will contain an <strong>XML tree</strong>. This tree is made up of <strong>XML nodes</strong>. A node is indicated by arrow brackets, <em>must</em> have a <strong>name</strong>, <em>can</em> have <strong>attributes</strong>, and is either <strong>empty</strong> or not. Nodes can be nested, where nodes inside a node are its <strong>child nodes</strong>.</p>
<pre><code>&lt;!-- following is an empty node named &quot;useless&quot; --&gt;
&lt;useless /&gt;

&lt;!-- the next node is non-empty and has an attribute foo with value bar --&gt;
&lt;other foo=&quot;bar&quot;&gt;
  this text is the child of the &quot;other&quot; node.
&lt;/other&gt;</code></pre>
</div>
<div id="generate-xml-trees" class="section level1">
<h1>Generate XML trees</h1>
<p>Now let’s see how these nodes can be generated using the <code>XiMpLe</code> package. Single nodes are the domain of the <code>XMLNode()</code> function, and to get an empty node you just give it the name of that node:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">XMLNode</span>(<span class="st">&quot;useless&quot;</span>)</a></code></pre></div>
<pre><code>## &lt;useless /&gt;</code></pre>
<p>As you see, you will be shown XML code on the console. But what this function returns is actually an R object of class <code>XiMpLe.node</code>, so what you see is an <em>interpretation</em> of that object, made by the <code>show()</code> method for objects of this type (see section <a href="#writing-xml-files">Writing XML files</a> on how to export XML to files).</p>
<p>The second node in the example above has an attribute. Attributes can be specified with the <code>attrs</code> argument, which expects a named list:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">XMLNode</span>(<span class="st">&quot;other&quot;</span>, <span class="dt">attrs=</span><span class="kw">list</span>(<span class="dt">foo=</span><span class="st">&quot;bar&quot;</span>))</a></code></pre></div>
<pre><code>## &lt;other foo=&quot;bar&quot; /&gt;</code></pre>
<p>So, by default, as long as our node doesn’t have any children, it’s assumed to be an empty node. To force it into a non-empty node (i.e., opening and closing tag) even without content, we’d have to provide an empty character string as its child. Child nodes can be provided in two ways – either one by one via the <code>...</code> argument, or as one list via the <code>.children</code> argument:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">XMLNode</span>(<span class="st">&quot;other&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="dt">attrs=</span><span class="kw">list</span>(<span class="dt">foo=</span><span class="st">&quot;bar&quot;</span>))</a></code></pre></div>
<pre><code>## &lt;other foo=&quot;bar&quot;&gt;
## &lt;/other&gt;</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">XMLNode</span>(<span class="st">&quot;other&quot;</span>, <span class="dt">attrs=</span><span class="kw">list</span>(<span class="dt">foo=</span><span class="st">&quot;bar&quot;</span>), <span class="dt">.children=</span><span class="kw">list</span>(<span class="st">&quot;&quot;</span>))</a></code></pre></div>
<pre><code>## &lt;other foo=&quot;bar&quot;&gt;
## &lt;/other&gt;</code></pre>
<p>Of course this is also the place to provide our node with the text value:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">XMLNode</span>(</a>
<a class="sourceLine" id="cb10-2" title="2">  <span class="st">&quot;other&quot;</span>,</a>
<a class="sourceLine" id="cb10-3" title="3">  <span class="st">&quot;this text is the child of the </span><span class="ch">\&quot;</span><span class="st">other</span><span class="ch">\&quot;</span><span class="st"> node.&quot;</span>,</a>
<a class="sourceLine" id="cb10-4" title="4">  <span class="dt">attrs=</span><span class="kw">list</span>(<span class="dt">foo=</span><span class="st">&quot;bar&quot;</span>)</a>
<a class="sourceLine" id="cb10-5" title="5">)</a></code></pre></div>
<pre><code>## &lt;other foo=&quot;bar&quot;&gt;
##  this text is the child of the &quot;other&quot; node.
## &lt;/other&gt;</code></pre>
<p>But how about the comments? Well, <code>XiMpLe</code> does detect some special node names, one being <code>&quot;!--&quot;</code> to indicate a comment:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">XMLNode</span>(<span class="st">&quot;!--&quot;</span>, <span class="st">&quot;following is an empty node named </span><span class="ch">\&quot;</span><span class="st">useless</span><span class="ch">\&quot;</span><span class="st">&quot;</span>)</a></code></pre></div>
<pre><code>## &lt;!-- following is an empty node named &quot;useless&quot; --&gt;</code></pre>
<p>OK, that’s single nodes. In most cases, you want to have nested nodes which combine into an XML tree. As a practical example, this is how you could generate an XHTML document:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1">sample.XML.a &lt;-<span class="st"> </span><span class="kw">XMLNode</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;klick here!&quot;</span>, <span class="dt">attrs=</span><span class="kw">list</span>(<span class="dt">href=</span><span class="st">&quot;http://example.com&quot;</span>, <span class="dt">target=</span><span class="st">&quot;_blank&quot;</span>))</a>
<a class="sourceLine" id="cb14-2" title="2">sample.XML.body &lt;-<span class="st"> </span><span class="kw">XMLNode</span>(<span class="st">&quot;body&quot;</span>, sample.XML.a)</a>
<a class="sourceLine" id="cb14-3" title="3">sample.XML.html &lt;-<span class="st"> </span><span class="kw">XMLNode</span>(<span class="st">&quot;html&quot;</span>, <span class="kw">XMLNode</span>(<span class="st">&quot;head&quot;</span>, <span class="st">&quot;&quot;</span>), sample.XML.body)</a>
<a class="sourceLine" id="cb14-4" title="4">(sample.XML.tree &lt;-<span class="st"> </span><span class="kw">XMLTree</span>(sample.XML.html,</a>
<a class="sourceLine" id="cb14-5" title="5">  <span class="dt">xml=</span><span class="kw">list</span>(<span class="dt">version=</span><span class="st">&quot;1.0&quot;</span>, <span class="dt">encoding=</span><span class="st">&quot;UTF-8&quot;</span>),</a>
<a class="sourceLine" id="cb14-6" title="6">  <span class="dt">dtd=</span><span class="kw">list</span>(<span class="dt">doctype=</span><span class="st">&quot;html&quot;</span>, <span class="dt">decl=</span><span class="st">&quot;PUBLIC&quot;</span>,</a>
<a class="sourceLine" id="cb14-7" title="7">  <span class="dt">id=</span><span class="st">&quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;</span>,</a>
<a class="sourceLine" id="cb14-8" title="8">  <span class="dt">refer=</span><span class="st">&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;</span>)))</a></code></pre></div>
<pre><code>## &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
## &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
## &lt;html&gt;
##  &lt;head&gt;
##  &lt;/head&gt;
##  &lt;body&gt;
##      &lt;a href=&quot;http://example.com&quot; target=&quot;_blank&quot;&gt;
##          klick here!
##      &lt;/a&gt;
##  &lt;/body&gt;
## &lt;/html&gt;</code></pre>
<!-- \begin{Soutput}
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
  </head>
  <body>
    <a href="http://example.com" target="_blank">
      klick here!
    </a>
  </body>
</html>
\end{Soutput} -->
<p>It should be noted, however, that <code>XiMpLe</code> doesn’t perform even the slightest checks on what you provide as <code>DOCTYPE</code> or <code>xml</code> attributes.</p>
</div>
<div id="writing-xml-files" class="section level1">
<h1>Writing XML files</h1>
<p>We’ve learned earlier that <code>XiMpLe</code> objects do not contain the actual XML code. If you would like to write the XML code to a file, you should use <code>pasteXML()</code>, which will translate the R objects into a character string:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1">useless.node &lt;-<span class="st"> </span><span class="kw">XMLNode</span>(<span class="st">&quot;useless&quot;</span>)</a>
<a class="sourceLine" id="cb16-2" title="2"><span class="kw">pasteXML</span>(useless.node)</a></code></pre></div>
<pre><code>## [1] &quot;&lt;useless /&gt;\n&quot;</code></pre>
<p>Now let’s write the XHTML code we created in the previous section to a file called <code>example.html</code>:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">cat</span>(<span class="kw">pasteXML</span>(sample.XML.tree), <span class="dt">file=</span><span class="st">&quot;example.html&quot;</span>)</a></code></pre></div>
<p>And that’s it. The method <code>pasteXML()</code> has some arguments to configure the output, like <code>shine</code>, which sets the level of code formatting. If you set <code>shine=0</code>, no formatting is done, not even newlines.</p>
</div>
<div id="reading-xml-files" class="section level1">
<h1>Reading XML files</h1>
<p>We’ve also just created an example file we can read back in, to see how XML parsing looks like with <code>XiMpLe</code>:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1">sample.XML.parsed &lt;-<span class="st"> </span><span class="kw">parseXMLTree</span>(<span class="st">&quot;example.html&quot;</span>)</a></code></pre></div>
<p><code>parseXMLTree()</code> can also digest XML directly if it comes in single character strings or vectors. You only need to tell it that you’re not providing a file name this time, using the <code>object</code> argument:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1">my.XML.stuff &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;&lt;start&gt;here it begins&quot;</span>,<span class="st">&quot;&lt;/start&gt;&quot;</span>)</a>
<a class="sourceLine" id="cb20-2" title="2"><span class="kw">parseXMLTree</span>(my.XML.stuff, <span class="dt">object=</span><span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## &lt;start&gt;
##  here it begins
## &lt;/start&gt;</code></pre>
</div>
<div id="mining-nodes" class="section level1">
<h1>Mining nodes</h1>
<p>Reading and writing XML files is neat, but what if you need to aquire only certain parts of, say, a parsed XML file? For example, what if we only needed the URL of the <code>href</code> attribute in our XHTML example?</p>
<p>That’s a job for <code>node()</code>. This method can be used to extract parts from XML trees, once they are <code>XiMpLe</code> objects. The branch you’d like to get can be defined by a list of node names, and <code>node()</code> will follow down this hierarchy and then return what nodes are to be found below that. You can also specify that you don’t want the whole node(s), but only the attributes:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1"><span class="kw">node</span>(sample.XML.tree, <span class="dt">node=</span><span class="kw">list</span>(<span class="st">&quot;html&quot;</span>,<span class="st">&quot;body&quot;</span>,<span class="st">&quot;a&quot;</span>), <span class="dt">what=</span><span class="st">&quot;attributes&quot;</span>)</a></code></pre></div>
<pre><code>## $href
## [1] &quot;http://example.com&quot;
## 
## $target
## [1] &quot;_blank&quot;</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" title="1"><span class="kw">node</span>(sample.XML.tree, <span class="dt">node=</span><span class="kw">list</span>(<span class="st">&quot;html&quot;</span>,<span class="st">&quot;body&quot;</span>,<span class="st">&quot;a&quot;</span>), <span class="dt">what=</span><span class="st">&quot;value&quot;</span>)</a></code></pre></div>
<pre><code>## [1] &quot;klick here! &quot;</code></pre>
<p>This way it’s easy to get the value of all attributes or the link text. You can also change values with <code>node()</code>. Let’s change the URL and remove the <code>target</code> attribute completely:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" title="1"><span class="kw">node</span>(sample.XML.tree, <span class="dt">node=</span><span class="kw">list</span>(<span class="st">&quot;html&quot;</span>,<span class="st">&quot;body&quot;</span>,<span class="st">&quot;a&quot;</span>), <span class="dt">what=</span><span class="st">&quot;attributes&quot;</span>, <span class="dt">element=</span><span class="st">&quot;href&quot;</span>) &lt;-<span class="st"> &quot;http://example.com/foobar&quot;</span></a>
<a class="sourceLine" id="cb26-2" title="2"><span class="kw">node</span>(sample.XML.tree, <span class="dt">node=</span><span class="kw">list</span>(<span class="st">&quot;html&quot;</span>,<span class="st">&quot;body&quot;</span>,<span class="st">&quot;a&quot;</span>), <span class="dt">what=</span><span class="st">&quot;attributes&quot;</span>, <span class="dt">element=</span><span class="st">&quot;target&quot;</span>) &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb26-3" title="3">sample.XML.tree</a></code></pre></div>
<pre><code>## &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
## &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;
## &lt;html&gt;
##  &lt;head&gt;
##  &lt;/head&gt;
##  &lt;body&gt;
##      &lt;a href=&quot;http://example.com/foobar&quot;&gt;
##          klick here!
##      &lt;/a&gt;
##  &lt;/body&gt;
## &lt;/html&gt;</code></pre>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
